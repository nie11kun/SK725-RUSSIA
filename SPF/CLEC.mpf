;%_N_CLEC_MPF
;$PATH=/_N_MPF_DIR
;R0=AXIS MAX          [轴正极限]
;R1=AXIS LIMIT        [轴负极限]
;R2=STEP              [测量步距]
;R3=CYCLE TIMES       [循环次数]
;R4=BACK DISTANCE     [反向距离]
;R5=HOLD TIME         [停留时间]
DEF AXIS AXIVAR
AXIVAR=(C) ;AXIS NAME [轴名称]
G90 G01 AX[AXIVAR]=R0 F1000
G4 F=R5
MARK0: R3=(R0-R1)/R2
G91 AX[AXIVAR]=-R4
AX[AXIVAR]=R4
G4 F=R5
MARK1:AX[AXIVAR]=R2
G4 F=R5
R3=R3-1
IF(R3>0)GOTOB MARK1

R3=(R0-R1)/R2
AX[AXIVAR]=R4
AX[AXIVAR]=-R4
G4 F=R5
MARK2: AX[AXIVAR]=-R2
G4 F=R5
R3=R3-1
IF(R3>0)GOTOB MARK2
GOTOB MARK0
M30
